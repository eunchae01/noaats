# 노아의 가계부 - 기획서 및 개발 문서

## 프로젝트 환경 및 기술 스택

| 구분 | 내용 |
|------|------|
| **Language** | Java 17 |
| **Framework** | Spring Boot 4.0.2 |
| **Template Engine** | Thymeleaf |
| **ORM** | Spring Data JPA (Hibernate) |
| **Database** | H2 (File mode) |
| **Build Tool** | Gradle (Groovy) |
| **Logging** | Logback (logback-spring.xml, 프로필별 분리) |
| **Validation** | Spring Boot Validation (Jakarta) |
| **Utility** | Lombok |
| **Frontend** | Bootstrap 5, Chart.js, Flatpickr |
| **Infra / 배포** | Docker, GitHub Actions CI/CD, Nginx (SSL/HTTPS) |
| **Test** | JUnit 5, Spring Boot Test |

---

## 1. 개요

### 1.1 주제 선택 배경

직장생활을 시작한 지 어느덧 3년. 월급이 들어오면 어디론가 빠져나가고, 월말이 되면 "이번 달도 돈이 어디 간 거지?"라는 생각이 반복된다. 주변에서는 슬슬 재테크 이야기가 나오고, 적금이나 투자 이야기를 하지만, 정작 **매달 얼마를 쓰고 있는지, 투자에 돌릴 여유 자금이 얼마인지**조차 파악이 안 되는 상황이다.

시중의 가계부 앱들은 많지만, 대부분 지출 기록에만 초점을 맞추거나 기능이 지나치게 복잡하다. 필요한 건 **단순한 기록이 아니라, 내 소비를 분석하고 예산 대비 현황을 한눈에 보여주는 도구**다.

이번 과제를 통해 평소 필요했던 가계부를 직접 만들어보기로 했다. 실제로 내가 쓸 수 있는 앱을 만들면서, 동시에 문제 해결 과정을 보여줄 수 있는 좋은 기회라고 판단했다.

### 1.2 프로젝트 목표

직장 3년차 "노아"가 매일 겪는 세 가지 질문에 답하는 웹 애플리케이션을 만든다:

| 질문 | 기능 |
|------|------|
| "이번 달 돈이 어디로 갔지?" | 지출 분석 |
| "예산 대비 얼마나 썼지?" | 예산 분석 |
| "내 소비 패턴이 어떻게 변하고 있지?" | 소비 패턴 |

---

## 2. 문제 정의

### 2.1 해결하려는 문제

직장인 "노아"는 다음과 같은 문제를 겪고 있다:

**문제 1: 지출 파악 불가**
- 월급날 이후 돈이 어디로 빠져나가는지 모른다
- 카드 명세서를 봐도 항목이 너무 많아 분류가 안 된다
- "체감 지출"과 "실제 지출"의 괴리가 크다

**문제 2: 예산 관리 부재**
- 매달 예산을 세우지 않으니 과소비가 반복된다
- 특정 카테고리(식비, 여가)에서 지나치게 많이 쓰고 있는지 모른다
- 월 중간에 예산 대비 현황을 확인할 방법이 없다

**문제 3: 소비 트렌드 미파악**
- 지난 몇 개월간 소비가 늘었는지 줄었는지 감이 없다
- 어떤 카테고리의 지출이 증가 추세인지 모른다
- 재테크를 시작하려 해도 여유 자금이 얼마인지 산출이 안 된다

### 2.2 왜 이 문제를 선택했는가

1. **실제 본인의 필요**: 3년차가 되면서 재테크에 관심이 생겼지만, 가계부 없이는 현황 파악 자체가 어려움
2. **보편적인 문제**: 사회 초년생~ 대다수가 겪는 공통 문제
3. **측정 가능한 목표**: "월별 카테고리별 지출 비율 파악" → 달성 여부를 명확히 확인 가능
4. **적절한 기술적 범위**: 이틀 내 구현 가능하면서도, 의미 있는 분석 기능을 포함할 수 있는 범위

### 2.3 핵심 기능 vs 부가 기능

| 구분     | 기능 | 설명 | 우선순위 |
|--------|------|------|----------|
| **핵심** | 지출 기록 CRUD | 금액, 카테고리, 날짜, 설명을 입력하여 지출을 기록 | 1 |
| **핵심** | 카테고리별 예산 설정 | 월별로 카테고리(식비, 교통 등)마다 예산을 설정 | 2 |
| **핵심** | 예산 대비 지출 현황 | 카테고리별 예산 소진율을 진행바와 차트로 시각화 | 3 |
| **핵심** | 월별 소비 패턴 분석 | 최근 6개월 지출 추이를 라인/막대 차트로 시각화 | 4 |
| **핵심** | 대시보드 | 이번 달 요약(총지출, 예산잔여, 카테고리 분포)을 한눈에 | 5 |
| 부가     | 지난달 예산 복사 | 매월 예산을 새로 입력하지 않고 이전 달 복사 | - |
| 부가     | 지출 필터링/검색 | 날짜 범위, 카테고리별 필터로 원하는 지출만 조회 | - |
| 부가     | 예산 초과 알림 | 카테고리별 예산 80% 이상 사용 시 경고 표시 | - |
| 부가     | 전월 대비 변화율 | 카테고리별 전월 대비 증감률을 테이블로 제공 | - |
| 제외     | 할부/고정지출 관리 | 할부 이자 계산 및 매월 고정비 자동 등록은 MVP 범위에서 제외 (향후 고도화) | - |

### 2.4 대상 사용자 정의

**페르소나: 노아 (28세, 직장 3년차)**

| 항목 | 내용                                         |
|------|--------------------------------------------|
| 나이 | 30세                                        |
| 직업 | IT 기업 개발자                                  |
| 월 실수령액 | 약 300만원                                    |
| 주요 지출 | 식비(외식 포함), 교통(자가용 유지비), 주거비(월세), 여가(취미/문화) |
| 재테크 경험 | 적금 1개만 유지 중, 투자 경험 없음                      |
| 가계부 경험 | 간헐적으로 기록했으나 3일 이상 지속한 적 없음             |
| 핵심 니즈 | 매달 어디에 얼마를 쓰는지 파악하고, 투자 여력을 확인하고 싶음        |
| 페인포인트 | 기록이 번거로움, 기록만 하고 분석은 안 됨, 예산 개념 자체가 없음     |

### 2.5 사용자 시나리오

**시나리오 1: 일상적인 지출 기록**
1. 노아가 점심에 동료와 식사를 하고 12,000원을 카드로 결제한다
2. 앱에 접속하여 "지출 추가"를 클릭한다
3. 카테고리 "식비", 금액 "12,000원", 설명 "점심 식사", 날짜 "오늘"을 입력한다
4. 저장하면 지출 목록에 즉시 반영된다

**시나리오 2: 월말 예산 점검**
1. 월말이 다가오자 노아는 대시보드에 접속한다
2. "이번 달 총지출: 210만원 / 예산: 230만원 / 잔여: 20만원"을 확인한다
3. 카테고리 도넛 차트에서 식비가 전체의 35%를 차지하고 있음을 본다
4. 예산 관리 페이지로 이동하여 식비 진행바가 빨간색(예산 초과)임을 확인한다
5. "다음 달에는 식비 예산을 좀 더 늘리거나, 외식을 줄여야겠다"고 판단한다

**시나리오 3: 소비 패턴 확인**
1. 3개월째 가계부를 기록한 노아가 소비 패턴 페이지에 접속한다
2. 월별 지출 라인 차트에서 지출이 꾸준히 증가 추세임을 확인한다
3. 카테고리별 누적 차트에서 "여가/오락" 비중이 매달 늘고 있음을 발견한다
4. "여가 지출을 조절하면 월 20~30만원 투자 여력이 생기겠다"고 결론 내린다

**시나리오 4: 새 달 예산 설정**
1. 새 달이 시작되어 예산 관리 페이지에 접속한다
2. "지난달 예산 복사" 버튼을 눌러 이전 달 예산을 그대로 가져온다
3. 지난달 분석을 바탕으로 식비 예산을 5만원 늘리고, 여가 예산을 5만원 줄인다
4. 조정된 예산으로 이번 달을 시작한다

### 2.6 예상 엣지 케이스 및 처리 방안

| 엣지 케이스 | 처리 방안 |
|-------------|-----------|
| 금액에 0원 입력 | 서버 유효성 검증으로 양수 또는 음수(환불)만 허용. (0원 불가) |
| 매우 큰 금액 입력 (예: 9,999,999,999원) | BigDecimal(12,0)으로 최대 약 1조 원까지 허용. |
| 미래 날짜에 지출 기록 | 허용 (여행 경비 등 예정된 지출을 미리 기록하는 유스케이스 존재) |
| 예산 미설정 상태 분석 | 예산이 없는 카테고리는 "미설정" 표시, 진행 바 대신 안내 문구 노출 |
| 데이터 없는 달 조회 | 차트에 0으로 표시, "이 달의 지출 기록이 없습니다" 안내 메시지 |
| 동일 카테고리 예산 중복 | DB Unique 제약 + 기존 값 업데이트(upsert) 처리 |
| 결제 취소/환불 | 지출 내역 삭제 대신, '마이너스 금액(-)' 입력을 허용하여 지출 합계에서 차감되도록 처리. |
| 할부 결제 | 이번 MVP에서는 할부 로직(월별 분할)을 제외하고, 결제 시점에 전액 지출로 처리함. |

---

## 3. 기능 정의

### 3.1 페이지 구성

**대시보드 (`/`)**
- 이번 달 요약 카드 4개: 총지출, 총예산, 잔여예산, 거래건수
- 카테고리 도넛 차트 (이번 달 지출 비율)
- 예산 초과/근접 알림 목록 (80% 이상 소진 카테고리)
- 최근 지출 5건 미리보기

**지출 관리 (`/expenses`)**
- 지출 목록 (필터: 날짜 범위, 카테고리 / 정렬: 날짜 내림차순)
- 페이지네이션 (10건/페이지)
- 추가/수정 폼: 날짜, 카테고리, 금액, 설명, 메모(선택)
- 삭제 기능

**예산 관리 (`/budgets`)**
- 월 선택기
- 카테고리별 예산 설정 (인라인 편집)
- 예산 vs 실제 진행바 (초록 <70%, 노랑 70~100%, 빨강 >100%)
- 예산 vs 실제 가로 막대 비교 차트
- 지난달 예산 복사 기능

**소비 패턴 (`/patterns`)**
- 월별 총지출 추이 라인 차트 (최근 6개월)
- 카테고리별 월별 누적 막대 차트
- 전월 대비 카테고리별 증감률 테이블

### 3.2 카테고리 분류

| 카테고리 | 한글명 | 색상 | 설명 |
|----------|--------|------|------|
| FOOD | 식비 | #FF6384 | 식사, 간식, 커피, 식료품 구매 |
| TRANSPORT | 교통 | #36A2EB | 대중교통, 택시, 주유, 주차 |
| ENTERTAINMENT | 여가/오락 | #FFCE56 | 영화, 게임, 취미, 여행 |
| HOUSING | 주거/통신 | #4BC0C0 | 월세, 관리비, 통신비, 공과금 |
| SHOPPING | 쇼핑 | #9966FF | 의류, 생필품, 전자기기 |
| HEALTH | 의료/건강 | #FF9F40 | 병원, 약국, 헬스장 |
| EDUCATION | 교육/자기개발 | #C9CBCF | 강의, 도서, 자격증 |
| OTHER | 기타 | #7C8A96 | 경조사, 기부, 분류 불가 |

---

## 4. 기술 설계

### 4.1 기술 스택

| 영역 | 기술 | 선택 근거 |
|------|------|-----------|
| Backend | Spring Boot 4.0.2 + Java 17 | 프로젝트 초기 세팅에 포함. 안정적인 엔터프라이즈 프레임워크 |
| Frontend | Thymeleaf (SSR) | 서버 사이드 렌더링으로 SPA 대비 빠른 개발. 별도 빌드 불필요 |
| Database | H2 (File 모드) | 별도 DB 설치 불필요, 재시작 시에도 데이터 유지 |
| ORM | Spring Data JPA + Hibernate | 엔티티 매핑, JPQL 집계 쿼리 지원 |
| CSS | Bootstrap 5 (CDN) | 빌드 도구 불필요, 풍부한 컴포넌트(카드, 테이블, 진행바, 폼) |
| Chart | Chart.js 4 (CDN) | 경량, 도넛/라인/막대 차트 모두 지원 |
| 금액 처리 | BigDecimal | 부동소수점 오류 방지. 원화는 소수점 없으므로 DECIMAL(12,0) |

### 4.2 도메인 모델

```
Expense (지출)
├── id: Long (PK, Auto)
├── amount: BigDecimal (NOT NULL, 양수)
├── category: ExpenseCategory (Enum, NOT NULL)
├── description: String (최대 200자, NOT NULL)
├── expenseDate: LocalDate (NOT NULL)
├── memo: String (최대 500자, 선택)
├── createdAt: LocalDateTime (자동)
└── updatedAt: LocalDateTime (자동)

Budget (예산)
├── id: Long (PK, Auto)
├── category: ExpenseCategory (Enum, NOT NULL)
├── amount: BigDecimal (NOT NULL, 양수)
├── yearMonth: String (NOT NULL, "2026-02" 형식)
├── createdAt: LocalDateTime (자동)
└── updatedAt: LocalDateTime (자동)
└── UNIQUE(category, yearMonth)
```

### 4.3 아키텍처

```
[Browser] → [Thymeleaf Controller] → [Service] → [Repository] → [H2 DB]
                                          ↑
[Chart.js] → [REST API Controller] ──────┘
```

- **Controller 계층**: Thymeleaf 뷰 렌더링 + REST API(차트 데이터)
- **Service 계층**: 비즈니스 로직, 집계 연산
- **Repository 계층**: JPA + JPQL 커스텀 쿼리
- **단일 사용자**: 인증/인가 없이 심플하게 (포트폴리오 프로젝트)

---

## 5. 엣지 케이스 상세

위 2.6절 참조. 주요 원칙:
- **입력 검증은 서버에서**: `@Valid` + `BindingResult`로 모든 폼 입력 검증
- **금액은 BigDecimal**: 부동소수점 오류 원천 차단
- **빈 데이터 대응**: 데이터 없는 상태에서도 에러 없이 안내 메시지 표시
- **중복 방지**: Budget의 (category, yearMonth) Unique 제약 + upsert 로직

---

## 6. 개선 과정 기록

> 이 섹션은 개발 과정에서 지속적으로 업데이트됩니다.

### v0.1 - 기획 단계 (2026-02-11)
- 주제 선택: "지출 관리 & 예산" - 실제 본인의 필요에서 출발
- 문제 정의: 3가지 핵심 질문 도출 및 페르소나(직장 3년 차 노아) 설정
- 기술 스택 결정: Spring Boot + Thymeleaf + H2 + Bootstrap + Chart.js
- 핵심/부가 기능 분류 및 우선순위 설정

### v0.2 - 기획 고도화 및 검증 (2026-02-11)
- 문제 정의 구체화: "투자 여력을 알고 싶다"는 모호한 목표를 **"월 고정 지출 외 낭비되는 비용을 시각화하여, 월 30만 원의 투자 시드머니 확보"**라는 측정 가능한 목표로 변경.
- 도메인 엣지 케이스 보강: 기술적 예외(0원 입력 등)뿐만 아니라, 할부 결제(월별 분할 계산 문제), 결제 취소/환불(지출 복구) 등 실제 금융 도메인에서 발생하는 복잡한 예외 상황을 식별하고 처리 방안을 수립함.

### v0.7 - 와이어프레임 (2026-02-12)
- 전체 4개 페이지의 정적 HTML 목업 작성 (대시보드, 지출 관리, 예산 관리, 소비 패턴)
- 커스텀 CSS 디자인 시스템 구축: 색상 변수, 카드 컴포넌트, 카테고리 뱃지 등
- **시간 배분 판단**: 먼저 화면을 만들고 나서 백엔드를 붙이는 방식이 전체 완성도를 높일 수 있다고 판단

### v1.0 - 기반 세팅 (2026-02-12)
- 도메인 모델 구현: `Expense`, `Budget` 엔티티 + `ExpenseCategory` Enum
- Spring Data JPA Repository 구성 + JPQL 집계 쿼리 작성
- 샘플 데이터 자동 생성 (`DataInitializer`) + Thymeleaf 레이아웃 시스템

### v2.0 - 지출 CRUD 구현 (2026-02-12)
- DTO 분리 (요청/응답), Service 계층 비즈니스 로직, Controller + Thymeleaf 뷰
- 페이지네이션 (10건/페이지), 필터링 (날짜 범위, 카테고리)
- `@Valid` + `BindingResult` 서버 사이드 유효성 검증

### v3.0 - 대시보드 + 예산 관리 (2026-02-12)
- 대시보드: 요약 카드 4개, 카테고리 도넛 차트 (Chart.js REST API), 예산 알림 목록
- 예산 관리: 카테고리별 인라인 편집, 진행바 (초록/노랑/빨강), 가로 막대 비교 차트
- 지난달 예산 복사 기능 구현

### v4.0 - 소비 패턴 분석 (2026-02-12)
- 월별 총지출 라인 차트 (최근 6개월) + 카테고리별 누적 막대 차트
- 전월 대비 카테고리별 증감률 테이블

### v5.0 - 테스트 및 안정화 (2026-02-12)
- BDD 스타일 단위 테스트 4개 클래스 26건 작성
- `GlobalExceptionHandler` + 에러 페이지 3종 (400, 404, 500)
- 빈 데이터 상태 처리 (empty state UI)
- **막힌 부분**: 초기에 테스트가 서비스 계층만 커버했으나, 컨트롤러 통합 테스트까지 확장하려다 시간 부족으로 서비스 계층에 집중하기로 결정

### v5.1 - 차트 및 UI 스타일 개선 (2026-02-12)
- 차트 색상 팔레트 통일, 그라데이션/투명도 적용
- 툴팁 스타일링, 페이지네이션 디자인 개선

### v6.0 - 배포 준비 (2026-02-13)
- Docker 컨테이너화: Dockerfile + .dockerignore + 운영 환경 설정
- GitHub Actions CI/CD: 자동 빌드/테스트 + 수동 EC2 배포 워크플로우
- Nginx SSL 배포 가이드 작성
- **막힌 부분**: 로고 이미지가 외부 URL이어서 HTTPS Mixed Content 에러 발생 → 로컬 리소스(`/images/logo.svg`)로 변경하여 해결
- **우선순위 조정**: 원래 계획에 없었던 Docker/CI-CD를 추가. 배포 가산점을 위해 기능 고도화보다 인프라 구성을 우선함

### v6.1 - UX 개선: Flatpickr 및 테이블 정렬 (2026-02-13)
- 날짜 선택기를 브라우저 기본 → Flatpickr로 교체 (한국어 로케일, 좌우 화살표 월 이동)
- 전체 테이블 금액 외 컬럼 가운데 정렬 통일

### v6.2 - Flatpickr 달력 UI 개선 (2026-02-13)
- **막힌 부분**: Flatpickr 연도 화살표가 동작하지 않는 버그 발생 — `instance.redraw()` 대신 `instance.changeYear()` API 사용으로 해결
- **막힌 부분 심화**: `cloneNode` 방식으로도 동작하지 않음 — Flatpickr가 `.arrowUp`/`.arrowDown` 클래스명에 이벤트 위임을 사용하여 복제된 요소도 캡처됨을 발견. 총 4차례 접근 방식 변경 끝에 기존 화살표를 숨기고 `◀ ▶` 좌우 버튼을 새로 생성하는 방식으로 최종 해결
- 달력 전체에 글래스모피즘 CSS 적용 (backdrop-filter, 반투명 배경, 그라데이션 헤더)
- **시간 배분 반성**: 화살표 하나에 예상보다 많은 시간 소요. 라이브러리 내부 동작 원리를 먼저 파악했으면 시행착오를 줄일 수 있었음

### v6.3 - 전체 페이지 반응형 처리 (2026-02-13)
- 예산 인풋 숫자가 좁은 화면에서 사라지는 문제 발견 → 전체 4개 페이지 테이블 반응형 적용
- 페이지별 우선순위 낮은 컬럼을 Bootstrap 유틸리티(`d-none d-md-table-cell`)로 모바일에서 숨김
- 768px + 480px 2단계 미디어쿼리로 폰트/패딩/아이콘 크기 단계적 축소
- 인라인 `style="width:"` 제거 → CSS 클래스로 대체하여 유지보수성 향상

---

## 7. AI 활용 기록

> 이 섹션은 개발 과정에서 AI를 활용한 내역과 그 검증 과정을 기록함.

### 7.1 사용 도구 및 프로세스

프로젝트에서 활용하는 AI 보조 도구 및 기록 방식은 아래와 같음.

- **Claude (Desktop App)**: 주요 코드 생성, 리팩토링, 복잡한 문제 해결에 사용. 데스크톱 앱을 통해 대화 기록이 유지되어 개발 맥락 파악 및 검증 과정 추적에 용이함.

- **Gemini (Terminal)**: 빠른 코드 조회, 문법 질문 등 터미널 환경의 신속한 문제 해결에 사용. 개발 흐름을 유지하며 즉각적인 해답을 얻는 보조 역할에 중점을 둠.

**자동화된 기록 프로세스:**
코드 관련 상호작용은 작업 완료 시점에 AI가 `docs/ai-log.md` 파일에 자동으로 요약 및 기록함. 이 과정은 `.claude/commands/CLAUDE.md` 지침을 따르며, 아래 목표를 가짐.
- **투명성**: 코드 변경의 출처와 결정 과정 명확화.
- **검증 가능성**: AI 제안과 개발자 수정을 추적하여 코드 신뢰성 보장.
- **학습 자료**: 문제 해결 과정을 기록하여 팀의 집단 지식으로 활용.

### 7.2 주요 활용 사례

**(1) 기획 단계: Gemini 활용**
- **요청**: 노아에이티에스 채용 과제 안내서 전문과 기획서 초안을 제공하고, **"평가자(면접관)의 관점"**에서 감점 요인을 분석해달라고 요청.
- **AI 피드백 및 수정**:
  - AI 지적: "기능 구현에 집중하느라 현실적인 돈 관리의 어려움(할부, 환불 등)이 빠져 있다."
  - 대응: 2.6절 엣지 케이스에 '할부 결제 시 월별 예산 차감 방식'과 '환불 시 예산 복구' 시나리오를 추가.
  - AI 지적: "목표가 추상적이다."
  - 대응: "월 30만 원 투자금 확보"라는 구체적 수치를 설정하여, 추후 결과물(대시보드)에서 달성 여부를 보여주기로 기획 수정.

**(2) 구현 단계: Claude Code와의 협업**
- **컨텍스트 제공**: 기획 단계에서 확정된 4.2 도메인 모델과 2.5 사용자 시나리오를 입력값으로 제공하여 코드 생성을 요청.
- **검증**: AI가 작성한 코드를 무조건 수용하지 않고, H2 DB 콘솔에서 쿼리를 직접 실행하거나 테스트 케이스를 통해 데이터 무결성을 검증 (예: BigDecimal 연산 시 소수점 처리 방식 검증).
- **페이즈별 점진적 요청**: 한 번에 전체를 생성하지 않고, 도메인 → CRUD → 대시보드 → 패턴 순으로 단계를 나눠 요청하여 각 단계별 동작 확인 후 다음으로 진행.

**(3) Flatpickr 버그 해결: AI 제안의 한계와 수정 (v6.2)**
- **AI의 문제점 발견**: AI가 제안한 `instance.redraw()` 방식이 실제로 동작하지 않음을 개발자가 테스트 중 발견하여 보고.
- **AI 생성 결과물 검증**: AI가 제안한 수정(`changeYear()` API)도 `cloneNode` 방식과 함께 사용 시 여전히 실패. 원인은 Flatpickr가 `.arrowUp`/`.arrowDown` 클래스명에 이벤트 위임을 사용한다는 점인데, AI가 이를 즉시 파악하지 못하고 총 4차례 접근 방식을 변경해야 했음.
- **개발자 주도 방향 결정**: AI가 CSS `order` 속성으로 해결을 시도했으나 렌더링이 불안정하자, 개발자가 "맘대로 해봐"라고 지시 → AI가 상하 화살표를 완전히 폐기하고 `◀ ▶` 좌우 버튼 방식으로 전환하여 최종 해결.
- **교훈**: AI가 라이브러리 내부 구현(이벤트 위임 패턴)까지 정확히 파악하지 못하는 경우가 있어, 개발자의 디버깅과 방향 재설정이 필수적이었음.

**(4) 반응형 UI: AI와의 효율적 협업 (v6.3)**
- **컨텍스트 제공**: 개발자가 좁은 화면(400px)에서 예산 인풋 숫자가 사라지는 문제를 스크린샷과 함께 보고.
- **AI 제안 검증**: AI가 제안한 Bootstrap `d-none d-md-table-cell` 방식을 수용하되, 숨길 컬럼 선택은 개발자가 UX 관점에서 직접 판단 (핵심 정보인 카테고리·금액은 항상 표시, 보조 정보만 숨김).
- **확장 지시**: 예산 페이지 수정 후 개발자가 "다른 페이지에도 동일하게 반응형으로 ㄱㄱ"이라고 확장 지시 → AI가 4개 페이지 전체를 분석하여 일괄 적용.

**(5) AI와의 협업에서 발견한 문제점과 대응**

| 문제점 | 사례 | 대응 방식 |
|--------|------|-----------|
| 라이브러리 내부 동작 미파악 | Flatpickr 이벤트 위임 구조를 모름 | 개발자가 브라우저 DevTools로 직접 디버깅 후 방향 재설정 |
| 파일 경로 혼동 | worktree 경로에만 수정하고 메인에 미적용 | 개발자가 발견 후 "메인에서 하라고 몇 번 말했냐"로 시정. 이후 양쪽 동시 수정 |
| 과도한 시행착오 | 화살표 방향 수정에 4차 시도 | 근본 원인 분석 대신 증상만 고치려 하는 패턴 인지 → 원인부터 파악하도록 유도 |
| CSS 캐시 미반영 | 변경 사항이 브라우저에 즉시 안 보임 | `Ctrl+Shift+R` 강제 새로고침으로 캐시 무효화 |

### 7.3 AI 활용 기록 상세

구현 단계의 모든 AI 상호작용은 `docs/ai-log.md`에 건별로 상세 기록되어 있음. 각 기록은 아래 5개 항목을 포함:
1. AI의 초기 제안
2. 개발자의 질문/수정 제안
3. 논의 과정
4. 최종 결론 및 적용 사유
5. 적용된 코드
